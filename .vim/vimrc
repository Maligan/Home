set nocompatible

if has("multi_byte")
	if &termencoding == ""
		let &termencoding = &encoding
	endif
	set encoding=utf-8
	setglobal fileencoding=utf-8
	set fileencodings=ucs-bom,utf-8,latin1
endif

" Pathogen
call pathogen#infect('~/.vim/bundle/snipmate')
call pathogen#infect()
filetype plugin indent on

" Behaviors
set title
set shortmess+=I
set hidden
set noswapfile
set backspace=indent,eol,start
set mouse=a
set scrolloff=0
set nowrap
set autowrite
set linebreak
set ignorecase
set smartcase
set listchars=tab:▸\ ,eol:¬,trail:·
set fillchars=vert:│
let NERDTreeMinimalUI=1

"nmap y "+y
"vmap y "+y
"nmap p "+p
"vmap p "+p
"nmap P "+P
"nmap D "+D
"nmap d "+d
"vmap d "+d

" Hotkeys
inoremap jk <Esc>
inoremap <C-c> <Esc>
inoremap <C-c> <Esc>
let mapleader=","
nnoremap ; :
nmap <silent> <leader>rc :e $MYVIMRC<CR>
nmap <silent> <leader>/ :set hlsearch!<CR>
nmap <silent> <leader>l :set list!<CR>
nmap <silent> <leader>t :NERDTreeToggle<CR>
nmap <silent> <leader>n :NERDTreeFind<CR>
" Run current script
"nmap <F5> :!echo -ne "\ec\e[3J" ; %:p<CR>
nnoremap <Leader>s :%s/\<<C-r><C-w>\>//g<Left><Left>
inoremap <C-L> <C-^>
"noremap <F5> :silent! !cygstart http://vk.com/app2646937_57109308<CR>
"map <leader>s :execute "lvimgrep /" . expand("<cword>") . "/j **" <Bar> lopen<CR>


" Indent
set tabstop=4
set shiftwidth=4
set softtabstop=4
set autoindent
set smartindent

" Statusbar
"let g:Powerline_symbols="fancy"
set laststatus=1
set showmode
set showcmd
set noruler

" Colors
set background=dark
colorscheme solarized

" TRASH
set incsearch
syntax on
set nowrap
set number
set numberwidth=4

" Auto source .vimrc
if has("autocmd")
	autocmd! BufWritePost .vimrc 
	autocmd BufWritePost .vimrc source $MYVIMRC
endif

"
" ActionScriptCompiler
"
ab GO GameObject
ab MC MovieClip
ab DU DisplayUtils

compiler mxmlc
nmap <S-F6> :make clean<CR>
nmap <F6> :make<CR>
nmap <F5> :!adl descriptor.xml -screensize iPhone<CR>
nmap <S-F5> :make<CR><F5>
set wildignore=*.swc,*.swf,ctags,*.apk

nmap <F1> :echo map(synstack(line('.'), col('.')), 'synIDattr(v:val, "name")')<CR>

"
" Lang settings
"
set keymap=russian-jcukenwin
set iminsert=0
set imsearch=0


function! MSDNLookup(keyword)
    silent execute ':!cygstart http://www.google.com/microsoft?hl=en\&q='.a:keyword.'\&btnG=Search'
    normal ^L
endfunction
nnoremap <F3> :call MSDNLookup(expand("<cword>"))<CR>


